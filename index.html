<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Offside Opinions | The Ultimate Top 10s</title>
<style>
/* Base */
body {
  margin:0;
  font-family: Arial,sans-serif;
  color:#fff;
  display:flex;
  flex-direction:column;
  align-items:center;
  background: linear-gradient(to bottom, #1c1c1c, #2a2a2a);
}

/* Hero */
.hero {
  width:100%;
  height:65vh;
  background:url('images/10.jpg') no-repeat center/cover;
  position:relative;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
}
.hero::after {
  content:"";
  position:absolute;
  top:0; left:0; right:0; bottom:0;
  background: rgba(0,0,0,0.4);
}
.hero-content {
  position:relative; z-index:1;
}
.hero h1 { font-size:3rem; color:gold; margin-bottom:10px; text-shadow:0 0 15px #ffd700; }
.hero p { color:#fff; font-size:1.2rem; text-shadow:0 0 5px #000; }

/* Categories */
.categories {
  display:flex; justify-content:center; gap:15px; margin:25px 0; flex-wrap:wrap;
}
.category-btn {
  background:#111; color:gold; border:none; padding:12px 25px; border-radius:25px; cursor:pointer; font-weight:bold;
  transition:0.3s;
}
.category-btn:hover, .category-btn.active { background:gold; color:#000; transform:scale(1.05); }

/* Bottom section (search + results) */
.bottom-section {
  width:90%;
  max-width:1200px;
  margin-bottom:50px;
  padding:20px;
  background: rgba(0,0,0,0.5); /* semi-transparent */
  border-radius:15px;
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* Search */
.search-container {
  width:100%;
  text-align:center;
  margin-bottom:30px;
}
.search-box {
  width:80%; max-width:500px; padding:15px 25px; border-radius:50px; border:2px solid gold;
  font-size:1rem; outline:none; background:#111; color:#fff;
}
.search-btn {
  margin-left:-55px; background:gold; border:none; padding:15px 25px; border-radius:50px;
  cursor:pointer; font-weight:bold; transition:0.3s;
}
.search-btn:hover { background:#ffd700; transform:scale(1.05); }

/* Results */
.results {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:25px;
  width:100%;
}
.results .card {
  background: rgba(17,17,17,0.8);
  border-radius:15px;
  padding:20px;
  text-align:center;
  box-shadow:0 4px 15px rgba(0,0,0,0.6);
  position:relative;
}
.results .card img { width:100%; border-radius:15px; margin-bottom:15px; transition:transform 0.3s ease; }
.results .card h3 { color:gold; margin-bottom:10px; font-size:1.3rem; }
.cta-btn { display:inline-block; margin-top:10px; background:gold; color:#000; padding:10px 20px; border-radius:25px; text-decoration:none; font-weight:bold; transition:0.3s; }
.cta-btn:hover { background:#ffd700; transform:scale(1.05); }

/* Footer */
footer {
  width:100%;
  background:#111;
  color:gold;
  text-align:center;
  padding:20px 0;
  margin-top:50px;
  border-top:1px solid gold;
}
</style>
</head>
<body>

<!-- Hero -->
<div class="hero">
  <div class="hero-content">
    <h1>The Ultimate Top 10s</h1>
    <p>Discover the best Top 10 lists in football, kits, players & more!</p>
  </div>
</div>

<!-- Categories -->
<div class="categories">
  <button class="category-btn active" onclick="selectCategory('all', this)">All</button>
  <button class="category-btn" onclick="selectCategory('football', this)">Football</button>
  <button class="category-btn" onclick="selectCategory('kits', this)">Kits</button>
</div>

<!-- Bottom section -->
<section class="bottom-section">
  <!-- Search -->
  <div class="search-container">
    <input type="text" class="search-box" id="searchInput" placeholder="Search Top 10 Football Boots, Kits, Players...">
    <button class="search-btn" onclick="performSearch()">Go</button>
  </div>

  <!-- Results -->
  <div class="results" id="results"></div>
</section>

<!-- Footer -->
<footer>
  &copy; 2025 Offside Opinions
</footer>

<script>
let selectedCategory = 'all';

function selectCategory(category, btn){
  selectedCategory = category;
  document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  performSearch();
}

async function performSearch() {
  const query = document.getElementById('searchInput').value.trim() || "Top 10 football players";
  const resultsContainer = document.getElementById('results');
  resultsContainer.innerHTML = `<p>Loading results for "${query}"...</p>`;

  try {
    const res = await fetch(`/.netlify/functions/ai-search?query=${encodeURIComponent(query)}`);
    const data = await res.json();
    const top10List = data.top10.split('\n').filter(Boolean);

    resultsContainer.innerHTML = top10List.map((item, i) => `
      <div class="card">
        <img src="images/${i+1}.jpg" alt="${item}">
        <h3>${item}</h3>
        <a href="#" class="cta-btn">View on Amazon</a>
      </div>
    `).join('');
  } catch (err) {
    resultsContainer.innerHTML = `<p>Error loading results. Please try again.</p>`;
  }
}

window.onload = performSearch;
</script>

</body>
</html>


